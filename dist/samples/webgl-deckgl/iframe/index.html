<!DOCTYPE html>
<!--
 @license
 Copyright 2019 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<html>
  <head>
    <title>WebGL DeckGL OverlayView</title>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script src="https://unpkg.com/deck.gl@8.7.3/dist.min.js"></script>

    
    
    <script type="module">
//assets/index.f5567cc3.js
var x=Object.defineProperty;var O=(i,s,l)=>s in i?x(i,s,{enumerable:!0,configurable:!0,writable:!0,value:l}):i[s]=l;var d=(i,s,l)=>(O(i,typeof s!="symbol"?s+"":s,l),l);const R=function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))u(t);new MutationObserver(t=>{for(const a of t)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&u(c)}).observe(document,{childList:!0,subtree:!0});function l(t){const a={};return t.integrity&&(a.integrity=t.integrity),t.referrerpolicy&&(a.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?a.credentials="include":t.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function u(t){if(t.ep)return;t.ep=!0;const a=l(t);fetch(t.href,a)}};R();/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */let m,f;const y="https://d2ad6b4ur7yvpq.cloudfront.net/naturalearth-3.3.0/ne_10m_airports.geojson";function I(){const i=51.4709959,s=-.4531566,l=2,u=0,t=0,a=document.getElementById("map");m=new google.maps.Map(a,{zoom:l,center:new google.maps.LatLng(i,s),heading:u,tilt:t,mapId:"b1beacae401d047c"});const c=document.getElementById("tooltip");function g({x:p,y:e,object:r}){r?(c.style.display="block",c.style.left=`${p+5}px`,c.style.top=`${e+5}px`,c.innerHTML=`${r.properties.name} - ${r.properties.abbrev}`):c.style.display="none"}const h={click:null,dblclick:null,mousemove:null,mouseout:null};class v extends google.maps.WebGLOverlayView{constructor(e,r,n={}){super();d(this,"canvas");d(this,"deck");d(this,"layers_");d(this,"props");this.deck=null,this.layers_=r,this.props=n,this.canvas=e}set layers(e){this.layers_=e,this.deck.setProps({layers:[this.layers_]})}onAdd(){}onRemove(){}onContextRestored({gl:e}){const r=this.getMap();this.deck=new deck.Deck({canvas:this.canvas,initialViewState:{longitude:s,latitude:i,pitch:t,zoom:l},gl:e,layers:this.layers_,props:this.props,controller:!1,userData:{map:r}});for(const n in h)h[n]=r.addListener(n,o=>this.handleMouseEvent(this.deck,n,o))}onDraw({gl:e,transformer:r}){const n=this.deck;if(!n||!n.layerManager)return;const o=r.getCameraParams(),k=this.canvas.clientWidth,w=this.canvas.clientHeight,E=0,_=0,M=Math.max(0,o.zoom-1),P=o.tilt,C=o.heading,T=o.center.lat,S=o.center.lng;this.canvas.style.left=`${E}px`,this.canvas.style.top=`${_}px`,n.setProps({width:k,height:w,viewState:{latitude:T,longitude:S,zoom:M,pitch:P,bearing:C,nearZMultiplier:.01,farZMultiplier:1.01,repeat:!0}}),e.disable(e.SCISSOR_TEST),e.disable(e.STENCIL_TEST),e.enable(e.DEPTH_TEST),e.disable(e.CULL_FACE),e.depthFunc(e.LEQUAL),e.depthMask(!0),this.requestRedraw(),n._drawLayers("google-map-repaint",{clearCanvas:!1})}onContextLost(){}getEventPixel(e,r){const n=r.getViewports()[0].project([e.latLng.lng(),e.latLng.lat()]);return{x:n[0],y:n[1]}}handleMouseEvent(e,r,n){const o={type:r,offsetCenter:this.getEventPixel(n,e),srcEvent:n};switch(r){case"click":e._lastPointerDownInfo=e.pickObject(o.offsetCenter),o.tapCount=1,e._onEvent(o);break;case"dblclick":o.type="click",o.tapCount=2,e._onEvent(o);break;case"mousemove":o.type="pointermove",e._onPointerMove(o);break;case"mouseout":o.type="pointerleave",e._onPointerMove(o);break;default:return}this.requestRedraw()}}const L=[new deck.GeoJsonLayer({id:"airports",data:y,filled:!0,pointRadiusMinPixels:2,opacity:1,pointRadiusScale:2e3,getRadius:p=>11-p.properties.scalerank,getFillColor:[200,0,80,180],pickable:!0,autoHighlight:!0,onHover:g}),new deck.ArcLayer({id:"arcs",data:y,dataTransform:p=>p.features.filter(e=>e.properties.scalerank<4),getSourcePosition:p=>[s,i],getTargetPosition:p=>p.geometry.coordinates,getSourceColor:[0,128,200],getTargetColor:[200,0,80],getWidth:1})],b={};f=new v(a,L,b),f.setMap(m)}window.initMap=I;

</script>
    <style type="text/css">
/**
 * @license
 * Copyright 2019 Google LLC. All Rights Reserved.
 * SPDX-License-Identifier: Apache-2.0
 */#map{height:100%}html,body{height:100%;margin:0;padding:0}#tooltip{background-color:#fff;border:0;border-radius:2px;box-shadow:0 1px 4px -1px #0000004d;margin:10px;font:400 18px Roboto,Arial,sans-serif;overflow:hidden;position:absolute;height:auto;padding:.5em}

</style>
  </head>
  <body>
    <div id="map"></div>
    <div id="tooltip"></div>

    <!-- 
     The `defer` attribute causes the callback to execute after the full HTML
     document has been parsed. For non-blocking uses, avoiding race conditions,
     and consistent behavior across browsers, consider loading using Promises
     with https://www.npmjs.com/package/@googlemaps/js-api-loader.
    -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&v=beta"
      defer
    ></script>
  </body>
</html>
